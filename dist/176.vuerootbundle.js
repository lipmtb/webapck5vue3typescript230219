"use strict";(self.webpackChunkvue3webpack5_2022100601=self.webpackChunkvue3webpack5_2022100601||[]).push([[176],{1732:function(e,r,n){var t=n(4783)(e.id,{locals:!1});e.hot.dispose(t),e.hot.accept(void 0,t)},9176:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var t=n(6252),l=n(3577);const c={class:"audioWrapper"},a=["src"],i={class:"lyric-wrapper",ref:"relativeWrapperRef"},o={class:"scroll-content",ref:"scrollRef"},u=["data-time"];var s=n(2262);const f=(e,r)=>{const n=String(e);let t=n.length,l=[n];for(;t<r;)l.unshift("0"),t++;return l.join("")},v=n(2099);var p=(0,t.aZ)({setup(){const e=(0,s.iH)(),r=(0,s.iH)(),n=(0,s.iH)(),{initLyric:l,lyricArr:c,getAllLyricAndCreateMap:a,scrollToTime:i,currentActive:o}=(()=>{const e=(0,s.iH)(),r=(0,s.iH)(),n=(0,s.iH)("");return{initLyric:()=>{const r="\n00:28 窗外的麻雀 在电线杆上多嘴;\n00:35 你说这一句 很有夏天的感觉;\n00:41 手中的铅笔 在纸上来来回回;\n00:47 我用几行字形容你是我的谁;\n00:54 秋刀鱼的滋味 猫跟你都想了解;\n01:01 初恋的香味就这样被我们寻回;\n01:08 那温暖的阳光 像刚摘的鲜艳草莓;\n01:14 你说你舍不得吃掉这一种感觉;\n01:21 雨下整夜 我的爱溢出就像雨水;\n01:28 院子落叶 跟我的思念厚厚一叠;\n01:35 几句是非 也无法将我的热情冷却;\n01:42 你出现在我诗的每一页;\n01:48 雨下整夜 我的爱溢出就像雨水;\n01:55 窗台蝴蝶 像诗里纷飞的美丽章节;\n02:02 我接着写;\n02:04 把永远爱你写进诗的结尾;\n02:10 你是我唯一想要的了解;\n02:42 雨下整夜 我的爱溢出就像雨水;\n02:49 院子落叶 跟我的思念厚厚一叠;\n02:56 几句是非 也无法将我的热情冷却;\n03:03 你出现在我诗的每一页;\n03:09 那饱满的稻穗 幸福了这个季节;\n03:16 而你的脸颊像田里熟透的番茄;\n03:23 你突然对我说 七里香的名字很美;\n03:30 我此刻却只想亲吻你倔强的嘴;\n03:36 雨下整夜 我的爱溢出就像雨水;\n03:43 院子落叶 跟我的思念厚厚一叠;\n03:50 几句是非 也无法将我的热情冷却;\n03:57 你出现在我诗的每一页;\n04:03 整夜 我的爱溢出就像雨水;\n04:10 窗台蝴蝶 像诗里纷飞的美丽章节;\n04:17 我接着写;\n04:19 把永远爱你写进诗的结尾;\n04:24 你是我唯一想要的了解".split(";"),n=new Map(r.map((e=>{const r=e.match(/[\S\s]+?([\u4e00-\u9fa5]+[\S\s]*[\u4e00-\u9fa5]+)$/)?.[1]||"";return[e.match(/([\S\s]+?)[\u4e00-\u9fa5]+[\S\s]*[\u4e00-\u9fa5]+$/)?.[1]?.replace(/\n/,"")||"null",r]})));e.value=Array.from(n.entries()).map((e=>({time:e[0].trim(),lyric:e[1]}))),console.log("lyricArr.value",e.value)},lyricArr:e,getAllLyricAndCreateMap:()=>{const e=document.querySelectorAll(".scroll-content li"),n=Array.from(e),t=new Map;n.forEach((e=>{const r=e.offsetTop,n=e.dataset.time;t.set((e=>{if(!e)return 0;const r=e.split(":");return 60*Number(r[0])+Number(r[1])})(n??""),r)})),console.log("arr",t),r.value=t},lyricPosMapRef:r,scrollToTime:e=>{const t=r.value,l=Array.from(t?.keys()||[]);let c=l.findIndex((r=>Number(r)>e));const a=c-1>-1?c-1:0;n.value=(e=>{const r=e%60,n=Math.floor(e/60);if(n>=60)throw new Error("暂不支持小时以上");return`${f(n,2)}:${f(r,2)}`})(Number(l[a]));const i=t?.get?.(l[a]);return i||0},currentActive:n}})();return(0,t.bv)((()=>{l();const t=e.value;t&&t.addEventListener("timeupdate",(()=>{console.log("audioElementaudioElementaudioElement",t.currentTime);const e=i(Math.floor(t.currentTime)),l=(r.value?.clientHeight||0)/2;n.value&&(console.log("scrollerContainerHeightHalf",l,e),n.value.style.top=l-e+"px")}))})),(0,t.m0)((()=>{console.log("watchEffectwatchEffectwatchEffect",c?.value,e.value,r.value),c?.value?.length&&(0,t.Y3)((()=>{a()}))})),{audioRef:e,relativeWrapperRef:r,scrollRef:n,lyricArr:c,qlixSource:v,currentActive:o}},methods:{}});n(1732);var m=(0,n(3744).Z)(p,[["render",function(e,r,n,s,f,v){return(0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("audio",{src:e.qlixSource,controls:"",ref:"audioRef"},null,8,a),(0,t._)("div",i,[(0,t._)("div",o,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.lyricArr,(r=>((0,t.wg)(),(0,t.iD)("li",{key:r.time,"data-time":r.time,class:(0,l.C_)({active:e.currentActive===r.time})},(0,l.zw)(r.lyric),11,u)))),128))],512)],512)])}]])},2099:function(e,r,n){e.exports=n.p+"static/a9f4ca46d501a4948262qilx..mp3"}}]);
//# sourceMappingURL=176.vuerootbundle.js.map